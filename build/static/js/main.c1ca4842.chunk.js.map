{"version":3,"sources":["redux/action-types.js","redux/reducers/fruit.js","redux/reducers/mission.js","redux/reducers/index.js","redux/reducers/test.js","redux/store.js","common/populate.js","common/Model.js","components/Reset/Reset.js","components/CalendarButton/CalendarButton.js","components/TopNav/TopNav.js","containers/fruitButton/fruitButton.js","assets/img/icon/play-button.svg","assets/img/icon/pause-button.svg","assets/music/blackout_harp1.mp3","assets/music/blackout_harp2.mp3","assets/img/fruit/tomato.png","assets/img/fruit/strawberry.png","assets/img/fruit/watermelon.png","assets/img/fruit/cantaloupe.png","containers/clock/clock.js","assets/img/icon/shopping-list.svg","assets/img/icon/plus.svg","containers/listItem/listItem.js","containers/listAdd/listAdd.js","containers/list/list.js","components/Main/Main.js","components/CalendarForm/CalendarForm.js","components/CalendarLiContent/CalendarLiContent.js","containers/Calendar/Calendar.js","components/Home/Home.js","App.js","index.js"],"names":["TEST","TOMATO","WATERMELON","STRAWBERRY","CANTALOUPE","NOWMISSION","initState","id","missoin","time","smoke","combineReducers","test","preState","action","type","data","fruit","mission","createStore","reducer","populate","db","bulkAdd","version","stores","plan","Dexie","on","Reset","useState","display","setDisplay","onResetDatabase","transaction","a","Promise","all","tables","map","table","clear","window","location","reload","className","onClick","style","value","CalendarButton","props","homeType","setHomeType","TopNav","Decoration","dispatch","useDispatch","React","memo","getTime","sec","min","parseInt","sec0","audio_start","Audio","start","audio_end","end","Clock","useSelector","state","fruitIMG","Number","setTime","setSmoke","nowMission","setNowMission","tomatoIMG","src","tomato","alt","strawberryIMG","strawberry","watermelonIMG","watermelon","cantaloupeIMG","cantaloupe","pauseButton","icon_pause","onPause","isRun","playButton","icon_play","onPlay","useEffect","toArray","then","res","interval","setInterval","clearInterval","play","setIsRun","delete","update","put","alert","now","Date","date","getDate","month","getMonth","year","getFullYear","ListItem","useLiveQuery","where","and","length","forEach","item","index","add","console","log","iconList","setListType","plus","listEqual","prevProps","nextProps","reg","ListAdd","setData","getData","e","target","name","iconListAdd","onSubmit","preventDefault","onChange","autoComplete","bind","shoppingList","List","listType","Main","opacity","CalendarForm","setMission","saveMission","saveTime","Submit","timeInfo","closeForm","planLi","initYear","initMonth","today","select","placeholder","addPlan","CalendarLiContent","dateInfo","color","changeLength","toString","Calendar","allDate","showForm","changeYear","totalDate","setState","changeMonth","openForm","this","notEqual","modify","dateLi","Array","fill","x","monthOption","defaultValue","Component","Home","App","ReactDOM","render","store","document","getElementById"],"mappings":"+dACaA,EAAO,OAGPC,EAAS,SACTC,EAAa,aACbC,EAAa,aACbC,EAAa,aAGbC,EAAa,aCL1B,IAAIC,EAAY,SCFhB,IAAIA,EAAY,CAACC,GAAG,GAAGC,QAAQ,GAAGC,KAAK,GAAGC,MAAM,ICGjCC,kBAAgB,CAC7BC,KCHa,WAAsC,IAA3BC,EAA0B,uDAFpC,EAE6BC,EAAO,uCAC3CC,EAAaD,EAAbC,KAGP,OAHoBD,EAARE,KAGLD,GACL,KAAKf,EAEH,QADAa,EAEF,QACE,OAAOA,IDLXI,MFDa,WAAsC,IAA3BJ,EAA0B,uDAAjBP,EAAUQ,EAAO,uCAC3CC,EAAaD,EAAbC,KAEP,OAFoBD,EAARE,KAELD,GACL,KAAKd,EACH,MAAO,SACT,KAAKE,EACH,MAAO,aACT,KAAKD,EACH,MAAO,aACT,KAAKE,EACH,MAAO,aACT,QACE,OAAOS,IEXXK,QDJa,WAAsC,IAA3BL,EAA0B,uDAAjBP,EAAUQ,EAAO,uCAC3CC,EAAaD,EAAbC,KAAKC,EAAQF,EAARE,KACZ,OAAOD,GACL,KAAKV,EACH,OAAOW,EACT,QACE,OAAOH,MGREM,cAAYC,G,sDCDpB,SAASC,IACdC,EAAGJ,QAAQK,QAAQ,CACjB,CAAChB,GAAG,EAAEW,QAAQ,qBAAMT,KAAK,EAAEC,OAAM,GACjC,CAACH,GAAG,EAAEW,QAAQ,eAAKT,KAAK,EAAEC,OAAM,GAChC,CAACH,GAAG,EAAEW,QAAQ,eAAKT,KAAK,EAAEC,OAAM,GAChC,CAACH,GAAG,EAAEW,QAAQ,qBAAMT,KAAK,EAAEC,OAAM,KCJ9B,IAqBMY,EAAK,IArBlB,kDACE,aAAe,IAAD,8BACZ,cAAM,iBACDE,QAAQ,IAAOC,OAAO,CACzBP,QAAS,0BAIX,EAAKM,QAAQ,IAAOC,OAAO,CACzBP,QAAS,wBACTQ,KAAM,kDATI,EADhB,U,MAAkCC,UAuBlCL,EAAGM,GAAG,WAAYP,G,iBCtBH,SAASQ,IACtB,MAA6BC,oBAAS,GAAtC,mBAAOC,EAAP,KAAeC,EAAf,KAKMC,EAAkB,WDmBjBX,EAAGY,YAAY,KAAMZ,EAAGJ,QAASI,EAAGI,KAApC,sBAA0C,sBAAAS,EAAA,sEACzCC,QAAQC,IAAIf,EAAGgB,OAAOC,KAAI,SAAAC,GAAK,OAAIA,EAAMC,YADA,uBAEzCpB,IAFyC,4CCjB/CqB,OAAOC,SAASC,UAGlB,OACE,sBAAKC,UAAU,QAAf,UACE,qBAAKA,UAAU,iBAAf,SACE,qBAAKA,UAAU,sBAAsBC,QAAS,WAVlDd,GAAYD,QAYV,sBAAKc,UAAU,kBAAkBE,MAAO,CAAChB,QAAQA,EAAU,QAAU,QAArE,UACE,uFACA,uBACA,uBAAOhB,KAAK,SAASiC,MAAM,MAAMF,QAAS,WAAKb,OAC/C,uBAAOlB,KAAK,SAASiC,MAAM,KAAKF,QAAS,WAAKd,GAAW,Y,MCpBlD,SAASiB,EAAeC,GACrC,MAA+BA,EAAMA,MAA9BC,EAAP,EAAOA,SAASC,EAAhB,EAAgBA,YAEhB,OACE,qBAAKP,UAAU,iBAAf,SACE,qBAAKA,UAAU,wCAAf,SACE,qBAAKA,UAAU,6CAA6CC,QAAS,WAAKM,GAAaD,U,MCLhF,SAASE,EAAOH,GAE7B,OACE,sBAAKL,UAAU,SAAf,UACE,cAAC,EAAD,CAAgBK,MAAOA,IACvB,cAAC,EAAD,O,UCFAI,EAAa,WACjB,IAAMC,EAAWC,cAMjB,OACE,sBAAKX,UAAU,cAAf,UACI,wBAAQA,UAAU,4BAA4BC,QAAS,WAP1CS,EAAS,CAACxC,KAAKd,KAO5B,SAAuE,qBAAK4C,UAAU,6BACtF,wBAAQA,UAAU,gCAAgCC,QAAS,WAP1CS,EAAS,CAACxC,KAAKZ,KAOhC,SAA+E,qBAAK0C,UAAU,iCAC9F,wBAAQA,UAAU,gCAAgCC,QAAS,WAN1CS,EAAS,CAACxC,KAAKb,KAMhC,SAA+E,qBAAK2C,UAAU,iCAC9F,wBAAQA,UAAU,gCAAgCC,QAAS,WAR1CS,EAAS,CAACxC,KAAKX,KAQhC,SAA+E,qBAAKyC,UAAU,qCAIvFY,MAAMC,KAAKJ,G,OCxBX,MAA0B,wCCA1B,MAA0B,yCCA1B,MAA0B,2CCA1B,MAA0B,2CCA1B,MAA0B,mCCA1B,MAA0B,uCCA1B,MAA0B,uCCA1B,MAA0B,uC,MCczC,SAASK,EAAQX,GACf,IAAIY,EAAMZ,EAAQ,GACda,EAAMC,SAASd,EAAM,IACrBe,EAAOH,EAAM,GAAK,EAAI,GAG1B,MADW,CAAC,GAAD,OADAC,EAAM,GAAK,EAAI,IACf,OAAWA,EAAX,YAAkBE,GAAlB,OAAyBH,IAGtC,IAAMI,EAAc,IAAIC,MAAMC,GACxBC,EAAY,IAAIF,MAAMG,GAoGbC,EAlGD,SAACnB,GACb,IAAMlC,EAAOsD,aAAY,SAAAC,GAAK,OAAIA,EAAMrD,WAClCsD,EAAWF,aAAY,SAAAC,GAAK,OAAIA,EAAMtD,SAC5C,EAAuBa,mBAAS2C,QAAhC,mBAAOhE,EAAP,KAAYiE,EAAZ,KACA,EAAyB5C,oBAAS,GAAlC,mBAAOpB,EAAP,KAAaiE,EAAb,KACA,EAAmC7C,mBAAS,CAACvB,GAAG,GAAGW,QAAS,GAAGT,KAAK,GAAGC,MAAM,KAA7E,mBAAOkE,EAAP,KAAkBC,EAAlB,KACMC,EAAa,qBAAKC,IAAKC,EAAQjC,MAAO,CAAChB,QAAoB,WAAZyC,EAAuB,QAAU,QAASS,IAAI,UAC7FC,EAAiB,qBAAMH,IAAKI,EAAYpC,MAAO,CAAChB,QAAoB,eAAZyC,EAA2B,QAAU,QAASS,IAAI,UAC1GG,EAAiB,qBAAKL,IAAKM,EAAYtC,MAAO,CAAChB,QAAoB,eAAZyC,EAA2B,QAAU,QAAUS,IAAI,UAC1GK,EAAiB,qBAAKP,IAAKQ,EAAYxC,MAAO,CAAChB,QAAoB,eAAZyC,EAA2B,QAAU,QAAUS,IAAI,UAC1GO,EAAe,qBAAK3C,UAAU,yBAAyBkC,IAAKU,EAAY3C,QAAS,WAAK4C,KAAY3C,MAAO,CAAChB,QAAQmB,EAAMyC,MAAQ,QAAU,QAASV,IAAI,eACvJW,EAAc,qBAAK/C,UAAU,yBAAyBkC,IAAKc,EAAW/C,QAAS,WAAKgD,KAAW/C,MAAO,CAAChB,QAAQmB,EAAMyC,MAAQ,OAAS,SAAUV,IAAI,eAE1Jc,qBAAU,WACRzE,EAAGJ,QAAQ8E,UAAUC,MAAK,SAACC,GACzBrB,EAAc,CACZtE,GAAG2F,EAAI,GAAKA,EAAI,GAAG3F,GAAK,EACxBW,QAAQgF,EAAI,GAAKA,EAAI,GAAGhF,QAAU,eAClCT,KAAKyF,EAAI,GAAKA,EAAI,GAAGzF,KAAO,EAC5BC,QAAMwF,EAAI,IAAKA,EAAI,GAAGxF,aAG1B,IAEFqF,qBAAU,WACRlB,EAAc7D,KACd,CAACA,IAEH+E,qBAAU,WACR,IAAII,EAQJ,OAPIjD,EAAMyC,MACNQ,EAAWC,aAAY,WACrB1B,GAAQ,SAAAjE,GAAI,OAAIA,EAAK,OACpB,KAEL4F,cAAcF,GAET,kBAAME,cAAcF,MAC1B,CAACjD,EAAMyC,QAEVI,qBAAU,WACR,IAAIrF,GAASwC,EAAMyC,OAAkB,IAATlF,EAI1B,OAHAiE,EAAQ,GACRC,GAAS,QACTX,EAAYsC,OAGX5F,GAAkB,IAATD,IACVyC,EAAMqD,UAAUrD,EAAMyC,OACtBhB,GAAS,GACTR,EAAUmC,OACVhF,EAAGJ,QAAQsF,OAAO5B,EAAWrE,IAC7Be,EAAGI,KAAK+E,OAAO7B,EAAWrE,GAAG,CAACgE,MAAM,SACpCM,EAAc,CAAC3D,QAAQ,eAAKT,KAAK,OAGlC,CAACA,IAEJ,IAAMiF,EAAU,WACdxC,EAAMqD,UAAUrD,EAAMyC,OACtBd,EAAc,2BAAID,GAAL,IAAgBnE,KAAKA,EAAKC,QAAOA,KAC9CY,EAAGJ,QAAQwF,IAAI,CAACnG,GAAGqE,EAAWrE,GAAGW,QAAQ0D,EAAW1D,QAAQT,KAAKA,EAAKC,QAAMA,IAC5EiE,GAAS,IAGLmB,EAAS,WACQ,IAAlBlB,EAAWrE,GAIY,iBAAvBqE,EAAW1D,UAIU,IAArB0D,EAAWlE,OACZiE,GAAS,GAEXzB,EAAMqD,UAAUrD,EAAMyC,OACtBjB,EAAQE,EAAWnE,OAPjBkG,MAAM,mFAJNA,MAAM,qDAcV,OACE,sBAAK9D,UAAU,QAAf,UAEE,sBAAKA,UAAU,iBAAf,UAAiCnC,EAAQ,eAAOkE,EAAW1D,QAASR,EAAQ,KAAOkE,EAAWlE,OAAS,iBAAQ8E,EAAaI,KAC5H,sBAAK/C,UAAU,kBAAf,UACGiC,EACAI,EAEAE,EACAE,EACD,mBAAGzC,UAAU,wBAAb,SAAsCK,EAAMyC,MAAQhC,EAAQlD,GAAQkD,EAAQiB,EAAWnE,eCpHhF,MAA0B,0CCA1B,MAA0B,iC,aCSzC,SAASkD,IACP,IAAMiD,EAAM,IAAIC,KACVC,EAAOF,EAAIG,UACXC,EAAQJ,EAAIK,WAAW,EAE7B,MAAO,CAACC,KADKN,EAAIO,cACJH,QAAMF,QAErB,IAAMM,EAAW,SAAAlE,GACf,IAAMlC,EAAOqG,wBAAa,kBAAM/F,EAAGJ,QAAQ8E,aACrCtE,EAAO2F,wBAAa,kBAAM/F,EAAGI,KAAK4F,MAAM,CAC5CJ,KAAKvD,IAAUuD,KACfF,MAAMrD,IAAUqD,MAChBF,KAAMnD,IAAUmD,OAEfS,KAAI,SAAArB,GAAG,MAAiB,SAAdA,EAAI3B,SACdyB,YACF,IAEKzC,EAAWC,cAiBjB,OAXAuC,qBAAU,WACLrE,GAAQA,EAAK8F,OAAS,GACvB9F,EAAK+F,SAAQ,SAACC,EAAKC,GACjBrG,EAAGJ,QAAQ0G,IAAI,CAAErH,GAAGmH,EAAKnH,GAAGW,QAAQwG,EAAKxG,QAAST,KAAe,EAAViH,EAAKjH,KAAQC,OAAM,IAC1EY,EAAGI,KAAK+E,OAAOiB,EAAKnH,GAAG,CAACgE,MAAM,UAC9BsD,QAAQC,IAAI,UAGhB,CAACpG,IAID,sBAAKmB,UAAU,OAAf,UACE,qBAAKA,UAAU,iBAAf,SACE,qBAAKkC,IAAKgD,EAAUlF,UAAU,sBAAsBoC,IAAI,WAE1D,oBAAIpC,UAAU,WAAd,SAEI7B,EACIA,EAAKuB,KAAI,SAACmF,GACR,OACE,oBAAkB7E,UAAU,eAAeC,QAAS,YA1B9C,SAAC4E,GAClBxE,EAAMyC,OACTpC,EAAS,CAACxC,KAAKV,EAAWW,KAAK0G,IAwBwC7C,CAAc6C,IAAvE,SACGA,EAAKxG,SADCwG,EAAKnH,OAKlB,OAGR,qBAAKsC,UAAU,gBAAgBC,QAAS,WAAKI,EAAM8E,aAAY,IAA/D,SACI,qBAAKjD,IAAKkD,EAAMpF,UAAU,qBAAqBoC,IAAI,eAM7D,SAASiD,EAAUC,EAAWC,GAC5B,OAAOD,EAAUxC,QAAUyC,EAAUzC,MAExBlC,UAAMC,KAAK0D,EAAUc,G,QClE9BG,I,MAAM,UAsEGC,GApEC,SAAApF,GACd,IAAM0D,EAAM,IAAIC,KAChB,EAAuB/E,mBAAS,CAACZ,QAAQ,GAAGT,KAAK,KAAjD,mBAAOO,EAAP,KAAYuH,EAAZ,KAEMC,EAAU,SAACC,GACM,SAAlBA,EAAEC,OAAOC,MAAoBN,GAAIzH,KAAK6H,EAAEC,OAAO1F,OAIlDuF,EAAQ,2BAAIvH,GAAL,mBAAWyH,EAAEC,OAAOC,KAAMF,EAAEC,OAAO1F,SAHxC2D,MAAM,mCAqBV,OACE,sBAAK9D,UAAU,UAAf,UACE,qBAAKA,UAAU,mBAAf,SACE,qBAAKkC,IAAK6D,EAAa/F,UAAU,wBAAwBoC,IAAI,WAE/D,uBAAMpC,UAAU,gBAAgBgG,SApBnB,SAACJ,GAChBA,EAAEK,iBACE9H,EAAKE,SAAYF,EAAKP,KAIvBO,EAAKP,KAAO,KACbkG,MAAM,0DAGRrF,EAAGJ,QAAQ0G,IAAI,CAAErH,GAAGqG,EAAIjD,UAAUzC,QAAQF,EAAKE,QAAST,KAAe,EAAVO,EAAKP,KAAQC,OAAM,IAChF6H,EAAQ,CAACrH,QAAQ,GAAGT,KAAK,KACzBkG,MAAM,0CATJA,MAAM,wEAiBN,UACE,uDAEE,uBACA,uBACEgC,KAAK,UACL5H,KAAK,OACLiC,MAAOhC,EAAKE,QACZ6H,SAAUP,EACVQ,aAAa,WAGjB,uBACA,+DAEE,uBACEL,KAAK,OACL5H,KAAK,OACLiC,MAAOhC,EAAKP,KACZsI,SAAUP,EAAQS,K,WAClBD,aAAa,WAGjB,qDAEF,qBAAKnG,UAAU,oBAAoBC,QAAS,WAAKI,EAAM8E,aAAY,IAAnE,SACI,qBAAKjD,IAAKmE,EAAcrG,UAAU,yBAAyBoC,IAAI,e,MC7D1D,SAASkE,GAAKjG,GAC3B,IAAOyC,EAASzC,EAATyC,MACP,EAA+B7D,oBAAS,GAAxC,mBAAOsH,EAAP,KAAgBpB,EAAhB,KAMA,OACE,sBAAKnF,UAAU,OAAf,UAEE,qBAAKE,MAAO,CAAChB,QAAQqH,EAAS,OAAO,SAArC,SAA+C,cAAC,EAAD,CAAUzD,MAAOA,EAAOqC,YAAaA,MACpF,qBAAKjF,MAAO,CAAChB,QAAQqH,EAAS,QAAQ,QAAtC,SAA+C,cAAC,GAAD,CAASpB,YAAaA,S,UCA5DqB,GAXF,SAACnG,GACZ,MAAyBpB,oBAAS,GAAlC,mBAAO6D,EAAP,KAAaY,EAAb,KAEA,OACE,sBAAK1D,UAAU,OAAOE,MAAO,CAACuG,QAAQpG,EAAMC,SAAW,EAAI,EAAEpB,QAAQmB,EAAMC,SAAU,OAAO,QAA5F,UACE,qBAAKN,UAAU,mBAAf,SAAkC,cAAC,EAAD,MAClC,qBAAKA,UAAU,cAAf,SAA6B,cAAC,EAAD,CAAO8C,MAAOA,EAAOY,SAAUA,MAC5D,qBAAK1D,UAAU,aAAf,SAA4B,cAACsG,GAAD,CAAMxD,MAAOA,U,SCPzC0C,I,MAAM,UAiGGkB,GA/FM,SAACrG,GACpB,MAA6BpB,mBAAS,IAAtC,mBAAOZ,EAAP,KAAesI,EAAf,KACA,EAAuB1H,mBAAS,IAAhC,mBAAOrB,EAAP,KAAYiE,EAAZ,KAEM+E,EAAc,SAAChB,GACnBe,EAAWf,EAAEC,OAAO1F,QAEhB0G,EAAW,SAACjB,GACZJ,GAAIzH,KAAK6H,EAAEC,OAAO1F,OAItB0B,EAAQ+D,EAAEC,OAAO1F,OAHf2D,MAAM,mCAKJgD,EAAS,WACb,GAAIzI,GAAYT,EAIhB,GAAGA,EAAO,KACRkG,MAAM,6DADR,CAIA,IAAMC,EAAM,IAAIC,KAChBvF,EAAGI,KAAKkG,IAAI,CACVrH,GAAGqG,EAAIjD,UACPzC,QAAQA,EACRT,KAAKA,EACLC,OAAM,EACNwG,KAAKhE,EAAM0G,SAAS1C,KACpBF,MAAM9D,EAAM0G,SAAS5C,MACrBF,KAAK5D,EAAM0G,SAAS9C,KACpBvC,MAAM,SAERoC,MAAM,4BACN6C,EAAW,IACX9E,EAAQ,IACRxB,EAAM2G,iBArBJlD,MAAM,wEA4BJmD,EAASzC,wBACb,kBAAI/F,EAAGI,KAAK4F,MAAM,CACdJ,KAAKhE,EAAM0G,SAAS1C,KACpBF,MAAM9D,EAAM0G,SAAS5C,MACrBF,KAAM5D,EAAM0G,SAAS9C,OACpBd,YACJ,CAAC9C,EAAM0G,WA0BV,OACE,sBAAK/G,UAAU,eAAf,UACE,qBAAKA,UAAU,wBAAwBC,QAASI,EAAM2G,YACtD,uBAAMhH,UAAU,sBAAhB,UACE,qBAAKA,UAAU,4BAAf,SAA4CK,EAAM0G,SAAS9C,OAC3D,sBAAKjE,UAAU,4BAAf,UACE,yDACA,6BACGiH,EACGA,EAAOvH,KAAI,SAACkG,GAAD,OAAM,+BAAgBA,EAAEvH,QAAlB,IAA4BuH,EAAEhI,KAA9B,eAAqC,qBAAKqC,QAAS,WA7C/D,IAACvC,IA6C8EkI,EAAElI,GA5ClGe,EAAGI,KAAK8E,OAAOjG,IA4CmD,4BAA5BkI,EAAElI,OAC5B,QAjCE,WACd,MAAoD2C,EAAM0G,SAAnDG,EAAP,EAAOA,SAASC,EAAhB,EAAgBA,UAAUC,EAA1B,EAA0BA,MAAM/C,EAAhC,EAAgCA,KAAKF,EAArC,EAAqCA,MAAMF,EAA3C,EAA2CA,KACrCF,EAAM,IAAIC,KAAKkD,EAAUC,EAAU,EAAGC,GACtCC,EAAS,IAAIrD,KAAKK,EAAMF,EAAM,EAAGF,GAIvC,OAHgBF,EAAIjD,WACDuG,EAAOvG,UAItB,sBAAKd,UAAU,+BAAf,UACE,qEACA,iDAAS,uBAAO9B,KAAK,OAAO4H,KAAK,UAAUK,aAAa,MAAMD,SAAUU,EAAYR,K,WAAYjG,MAAO9B,OACvG,iDAAS,uBAAOH,KAAK,OAAO4H,KAAK,OAAOK,aAAa,MAAMD,SAAUW,EAAU1G,MAAOvC,EAAM0J,YAAY,iCACxG,gCACE,uBAAOpJ,KAAK,SAASiC,MAAM,eAAKF,QAASI,EAAM2G,YAC/C,uBAAO9I,KAAK,SAASiC,MAAM,eAAKF,QAAS6G,UAK1C,KAiBFS,UCxDMC,I,MAtCW,SAACnH,GACzB,MAA6BpB,mBAAS,IAAtC,mBAAOZ,EAAP,KAAesI,EAAf,KACAzD,qBAAU,WACRzE,EAAGI,KAAK4F,MAAM,CACZJ,KAAKhE,EAAMoH,SAASpD,KACpBF,MAAM9D,EAAMoH,SAAStD,MACrBF,KAAK5D,EAAMoH,SAASxD,OACnBd,UAAUC,MAAK,SAAAC,GAAG,OAAGsD,EAAWtD,QACnC,CAAChD,EAAMoH,WAET,IAAM/F,EAAQ,SAACkE,GACb,OAAQA,EAAElE,OACR,IAAK,OACH,OAAO,wBAAQxB,MAAO,CAACwH,MAAM,UAAtB,4BACT,IAAK,QACH,OAAO,wBAAQxH,MAAO,CAACwH,MAAM,QAAtB,kCACT,IAAK,OACH,OAAO,wBAAQxH,MAAO,CAACwH,MAAM,SAAtB,4BACT,IAAK,OACH,OAAO,wBAAQxH,MAAO,CAACwH,MAAM,OAAtB,4BACT,QACE,OAAO,OAIb,OACE,mCAEIrJ,EACGA,EAAQqB,KAAI,SAACmF,EAAKC,GAAN,OACb,qBAAI9E,UAAU,oBAAd,UACG6E,EAAKxG,QAASqD,EAAMmD,KADgBC,MAGtC,S,MC9BX,SAAS6C,GAAa/B,GACpB,IAAIvC,EAAMuC,EAAEgC,WAEZ,OADkB,IAAfvE,EAAIsB,SAActB,EAAG,WAAOA,IACxBA,E,IAyHMwE,G,4MArHbnG,MAAQ,CACNwF,SAAS,GACTC,UAAU,GACVC,MAAM,GACN/C,KAAK,GACLF,MAAM,GACNF,KAAK,GACL6D,QAAQ,GACRC,UAAU,G,EAgCZC,WAAa,SAACpC,GACZ,GAAsB,uBAAnBA,EAAEC,OAAO1F,MAAZ,CACA,IAAMA,EAAQyB,OAAOgE,EAAEC,OAAO1F,OAExB8H,EADa,IAAIjE,KAAK7D,EAAM,EAAKuB,MAAMyC,MAAM,GACrBD,UAC9B,EAAKgE,SAAS,CAAC7D,KAAKlE,EAAM8H,UAAUA,M,EAEtCE,YAAc,SAACvC,GACb,GAAsB,uBAAnBA,EAAEC,OAAO1F,MAAZ,CACA,IAAMA,EAAQyB,OAAOgE,EAAEC,OAAO1F,OAExB8H,EADa,IAAIjE,KAAK,EAAKtC,MAAM2C,KAAKlE,EAAM,GACpB+D,UAC9B,EAAKgE,SAAS,CAAC/D,MAAMhE,EAAM8H,UAAUA,M,EAEvCjB,UAAY,WACV,EAAKkB,SAAS,CAACH,UAAS,K,EAE1BK,SAAW,SAACxC,GACV,EAAKsC,SAAS,CAACH,UAAS,EAAK9D,KAAK2B,K,wDAhDpC,WACE,IAAM7B,EAAM,IAAIC,KACVC,EAAOF,EAAIG,UACXC,EAAQJ,EAAIK,WAAW,EACvBC,EAAON,EAAIO,cAEX2D,EADa,IAAIjE,KAAKK,EAAKF,EAAM,GACTD,UAE9BmE,KAAKH,SAAS,CACZhB,SAAS7C,EACT8C,UAAUhD,EACViD,MAAMnD,EACNI,KAAKA,EACLF,MAAMA,EACNF,KAAKA,EACLgE,UAAUA,IAIZxJ,EAAGI,KACF4F,MAAM,SACN6D,SAAS,QACT5D,KAAI,SAAArB,GAGF,MAFI,UAAMA,EAAIgB,MAAV,OAAiBsD,GAAatE,EAAIc,QAAlC,OAA2CwD,GAAatE,EAAIY,OAC5D,UAAMI,GAAN,OAAasD,GAAaxD,IAA1B,OAAmCwD,GAAa1D,OAGtDsE,OAAO,CAAC7G,MAAM,W,oBAwBjB,WAAS,IAAD,OACDpB,EAAY+H,KAAKhI,MAAjBC,SACCkI,EAAS,IAAIC,MAAMJ,KAAK3G,MAAMuG,WAAWS,KAAK,IAAIhJ,KAAI,SAACiJ,EAAG7D,GAAJ,OAC1D,qBAAI9E,UAAU,mBAAmCC,QAAS,WAAK,EAAKmI,SAAStD,EAAQ,IAArF,UACE,8BAAMA,EAAQ,IACd,oBAAI9E,UAAU,uBAAd,SACE,cAAC,GAAD,CAAmByH,SAAU,CAACpD,KAAK,EAAK3C,MAAM2C,KAAKF,MAAM,EAAKzC,MAAMyC,MAAMF,KAAKa,EAAQ,SAHrDA,EAAQ,MAO1C8D,EAAc,IAAIH,MAAM,IAAIC,KAAK,IAAIhJ,KAAI,SAACiJ,EAAG7D,GAAJ,OAAc,iCAAyBA,EAAQ,GAApBA,EAAQ,MAElF,OACE,sBAAK9E,UAAU,WAAWE,MAAO,CAAChB,QAASoB,EAAkB,OAAP,QAAtD,UACE,sBAAKN,UAAU,gBAAf,UACE,sBAAKA,UAAU,sBAAf,UACE,8BAAMqI,KAAK3G,MAAM2C,OACjB,uCACA,yBAAS6B,SAAUmC,KAAKL,WAAxB,UACE,wBAAQ7H,MAAM,qBAAd,gCACA,wBAAQA,MAAOkI,KAAK3G,MAAMwF,SAA1B,SAAqCmB,KAAK3G,MAAMwF,WAChD,wBAAQ/G,MAAOkI,KAAK3G,MAAMwF,SAAS,EAAnC,SAAuCmB,KAAK3G,MAAMwF,SAAS,IAC3D,wBAAQ/G,MAAOkI,KAAK3G,MAAMwF,SAAS,EAAnC,SAAuCmB,KAAK3G,MAAMwF,SAAS,IAC3D,wBAAQ/G,MAAOkI,KAAK3G,MAAMwF,SAAS,EAAnC,SAAuCmB,KAAK3G,MAAMwF,SAAS,IAC3D,wBAAQ/G,MAAOkI,KAAK3G,MAAMwF,SAAS,EAAnC,SAAuCmB,KAAK3G,MAAMwF,SAAS,UAG/D,sBAAKlH,UAAU,uBAAf,UACE,8BAAMqI,KAAK3G,MAAMyC,QACjB,wCACA,yBAAQ0E,aAAcR,KAAK3G,MAAMyC,MAAO+B,SAAUmC,KAAKF,YAAvD,UACE,wDACCS,WAIP,oBAAI5I,UAAU,eAAd,SACGwI,IAEH,qBAAKxI,UAAU,eAAeE,MAAO,CAAChB,QAAQmJ,KAAK3G,MAAMqG,SAAS,QAAQ,QAA1E,SACE,cAAC,GAAD,CACEf,UAAWqB,KAAKrB,UAChBD,SAAU,CACR1C,KAAKgE,KAAK3G,MAAM2C,KAChBF,MAAMkE,KAAK3G,MAAMyC,MACjBF,KAAKoE,KAAK3G,MAAMuC,KAChBiD,SAASmB,KAAK3G,MAAMwF,SACpBC,UAAUkB,KAAK3G,MAAMyF,UACrBC,MAAMiB,KAAK3G,MAAM0F,kB,GA9GR0B,a,MCPR,SAASC,KACtB,MAA+B9J,oBAAS,GAAxC,mBAAOqB,EAAP,KAAgBC,EAAhB,KAEA,OACE,sBAAKP,UAAU,OAAf,UACE,cAAC,EAAD,CAAQM,SAAUA,EAAUC,YAAaA,IACzC,cAAC,GAAD,CAAMD,SAAUA,IAChB,cAAC,GAAD,CAAUA,SAAUA,O,UCFX0I,GAPJ,WACT,OACE,qBAAKhJ,UAAU,MAAf,SACE,cAAC,GAAD,OCDNiJ,IAASC,OACP,cAAC,IAAD,CAAUC,MAAOA,EAAjB,SACE,cAAC,GAAD,MACUC,SAASC,eAAe,W","file":"static/js/main.c1ca4842.chunk.js","sourcesContent":["//命名\r\nexport const TEST = 'test'\r\n\r\n//水果造型\r\nexport const TOMATO = 'tomato'\r\nexport const WATERMELON = 'watermelon'\r\nexport const STRAWBERRY = 'strawberry'\r\nexport const CANTALOUPE = 'cantaloupe'\r\n\r\n//選中任務\r\nexport const NOWMISSION = 'nowMission'\r\n","import {TOMATO} from '../action-types.js'\r\nimport {WATERMELON} from '../action-types.js'\r\nimport {STRAWBERRY} from '../action-types.js'\r\nimport {CANTALOUPE} from '../action-types.js'\r\n\r\nlet initState = 'TOMATO'\r\n\r\nexport default function a(preState=initState,action){\r\n  const {type,data} = action\r\n\r\n  switch(type){\r\n    case TOMATO:\r\n      return 'TOMATO'\r\n    case STRAWBERRY:\r\n      return 'STRAWBERRY'\r\n    case WATERMELON:\r\n      return 'WATERMELON'\r\n    case CANTALOUPE:\r\n      return 'CANTALOUPE'\r\n    default:\r\n      return preState\r\n  }\r\n}","import {NOWMISSION} from '../action-types.js'\r\n\r\n\r\nlet initState = {id:'',missoin:'',time:'',smoke:''}\r\n\r\nexport default function a(preState=initState,action){\r\n  const {type,data} = action\r\n  switch(type){\r\n    case NOWMISSION:\r\n      return data\r\n    default:\r\n      return preState\r\n  }\r\n}","import {combineReducers} from 'redux'\r\nimport testReducer from './test.js'\r\nimport fruitReducer from './fruit.js'\r\nimport missionReducer from './mission.js'\r\n\r\n\r\nexport default combineReducers({\r\n  test:testReducer,\r\n  fruit:fruitReducer,\r\n  mission:missionReducer,\r\n})","import {TEST} from '../action-types.js'\r\n\r\nlet initState = 0\r\n\r\nexport default function a(preState=initState,action){\r\n  const {type,data} = action\r\n  let newState\r\n\r\n  switch(type){\r\n    case TEST:\r\n      preState++\r\n      return preState\r\n    default:\r\n      return preState\r\n  }\r\n}","import {createStore} from 'redux';\r\nimport reducer from './reducers';\r\n\r\nexport default createStore(reducer);\r\n","import {db} from \"./Model\";\r\n\r\nexport function populate() {\r\n  db.mission.bulkAdd([\r\n    {id:1,mission:'打疫苗',time:3,smoke:false},\r\n    {id:2,mission:'吃飯',time:6,smoke:false},\r\n    {id:3,mission:'睡覺',time:3,smoke:false},\r\n    {id:4,mission:'打代碼',time:3,smoke:false}\r\n  ]);\r\n}\r\n","import Dexie from 'dexie'\r\nimport { populate } from './populate';\r\n\r\nexport class FruitClockDB extends Dexie {\r\n  constructor() {\r\n    super('FruitClockDB');\r\n    this.version(1*0.1).stores({\r\n      mission: 'id,mission,time,smoke'\r\n    });\r\n\r\n    // 版本升級\r\n    this.version(2*0.1).stores({\r\n      mission: 'id,mission,time,smoke',\r\n      plan: 'id,mission,time,smoke,[year+month+date],state'\r\n    })\r\n    // .upgrade(trans => {\r\n    // 只有在低於2版本的資料庫中會執行以下操作\r\n    //   return trans.mission.toCollection().modify(a => {\r\n    //     a.test = a.time*10;    \r\n    //   })\r\n    // })\r\n  }\r\n}\r\n\r\nexport const db = new FruitClockDB();\r\n\r\ndb.on('populate', populate);\r\n\r\nexport function resetDatabase() {\r\n  return db.transaction('rw', db.mission, db.plan, async () => {\r\n    await Promise.all(db.tables.map(table => table.clear()));\r\n    await populate();\r\n  });\r\n}\r\n\r\n\r\n\r\n","import React,{useState} from 'react'\r\nimport {resetDatabase} from '../../common/Model'\r\nimport './Reset.less'\r\n\r\nexport default function Reset(){\r\n  const [display,setDisplay] = useState(false)\r\n\r\n  const clickReset = () => {\r\n    setDisplay(!display)\r\n  }\r\n  const onResetDatabase = () => {\r\n    resetDatabase()\r\n    window.location.reload()\r\n  }\r\n  \r\n  return(\r\n    <div className='Reset'>\r\n      <div className='Reset__imgWrap'>\r\n        <div className='Reset__imgWrap__img' onClick={()=>{clickReset()}}></div>\r\n      </div>\r\n      <div className='Reset__question' style={{display:display ? 'block' : 'none'}}>\r\n        <p>是否回到初始狀態？</p>\r\n        <br />\r\n        <input type=\"button\" value='YES' onClick={()=>{onResetDatabase()}}/>\r\n        <input type=\"button\" value='NO' onClick={()=>{setDisplay(false)}}/>\r\n      </div>\r\n    </div>\r\n  )\r\n}","import React from 'react'\r\n\r\nimport './CalendarButton.less'\r\n\r\nexport default function CalendarButton(props){\r\n  const {homeType,setHomeType} = props.props\r\n\r\n  return(\r\n    <div className='CalendarButton'>\r\n      <div className='CalendarButton__CalendarButtonImgWrap'>\r\n        <div className='CalendarButton__CalendarButtonImgWrap__IMG' onClick={()=>{setHomeType(!homeType)}}></div>\r\n      </div>\r\n    </div>\r\n  )\r\n}","import React from 'react'\r\nimport Reset from '../Reset/Reset'\r\nimport CalendarButton from '../CalendarButton/CalendarButton'\r\nimport './TopNav.less'\r\n\r\nexport default function TopNav(props){\r\n\r\n  return(\r\n    <div className='TopNav'>\r\n      <CalendarButton props={props}/>\r\n      <Reset />\r\n \r\n    </div>   \r\n  )\r\n} ","import React from 'react'\r\nimport {useDispatch } from 'react-redux'\r\nimport {TOMATO} from '../../redux/action-types.js'\r\nimport {WATERMELON} from '../../redux/action-types.js'\r\nimport {STRAWBERRY} from '../../redux/action-types.js'\r\nimport {CANTALOUPE} from '../../redux/action-types.js'\r\nimport './fruitButton.less'\r\n\r\nconst Decoration = () =>{\r\n  const dispatch = useDispatch();\r\n  const tomato =()=>{dispatch({type:TOMATO})}\r\n  const strawberry =()=>{dispatch({type:STRAWBERRY})}\r\n  const cantaloupe =()=>{dispatch({type:CANTALOUPE})}\r\n  const watermelon =()=>{dispatch({type:WATERMELON})}\r\n\r\n  return(\r\n    <div className='fruitButton'>\r\n        <button className='fruitButton__tomatoButton' onClick={()=>{tomato()}}><div className='fruitButton__tomatoIMG'/></button>\r\n        <button className='fruitButton__strawberryButton' onClick={()=>{strawberry()}}><div className='fruitButton__strawberryIMG'/></button>\r\n        <button className='fruitButton__watermelonButton' onClick={()=>{watermelon()}}><div className='fruitButton__watermelonIMG'/></button>\r\n        <button className='fruitButton__cantaloupeButton' onClick={()=>{cantaloupe()}}><div className='fruitButton__cantaloupeIMG'/></button>\r\n    </div>\r\n  )\r\n}\r\nexport default React.memo(Decoration);\r\n","export default __webpack_public_path__ + \"static/media/play-button.bb43f381.svg\";","export default __webpack_public_path__ + \"static/media/pause-button.a5abb526.svg\";","export default __webpack_public_path__ + \"static/media/blackout_harp1.c533454e.mp3\";","export default __webpack_public_path__ + \"static/media/blackout_harp2.b001a8e8.mp3\";","export default __webpack_public_path__ + \"static/media/tomato.7f1b1aa7.png\";","export default __webpack_public_path__ + \"static/media/strawberry.2289a785.png\";","export default __webpack_public_path__ + \"static/media/watermelon.1bee71d4.png\";","export default __webpack_public_path__ + \"static/media/cantaloupe.4727635b.png\";","import React,{useState,useEffect} from 'react'\r\nimport {useSelector } from 'react-redux'\r\nimport icon_play from '../../assets/img/icon/play-button.svg'\r\nimport icon_pause from '../../assets/img/icon/pause-button.svg'\r\nimport start from '../../assets/music/blackout_harp1.mp3'\r\nimport end from '../../assets/music/blackout_harp2.mp3'\r\nimport tomato from \"../../assets/img/fruit/tomato.png\"\r\nimport strawberry from \"../../assets/img/fruit/strawberry.png\"\r\nimport watermelon from \"../../assets/img/fruit/watermelon.png\"\r\nimport cantaloupe from \"../../assets/img/fruit/cantaloupe.png\"\r\nimport {db} from '../../common/Model'\r\nimport './clock.less'\r\n\r\n\r\nfunction getTime(value){\r\n  let sec = value % 60\r\n  let min = parseInt(value/60)\r\n  let sec0 = sec < 10 ? 0 : ''\r\n  let min0 = min < 10 ? 0 : ''\r\n  let time = [`${min0}${min}:${sec0}${sec}`]\r\n  return time\r\n}\r\nconst audio_start = new Audio(start)\r\nconst audio_end = new Audio(end)\r\n\r\nconst Clock = (props) =>{\r\n  const data = useSelector(state => state.mission)\r\n  const fruitIMG = useSelector(state => state.fruit)\r\n  const [time,setTime] = useState(Number)\r\n  const [smoke,setSmoke] = useState(false)\r\n  const [nowMission,setNowMission] = useState({id:'',mission: '',time:'',smoke:'',})\r\n  const tomatoIMG = (<img src={tomato} style={{display:fruitIMG ==='TOMATO' ? 'block' : 'none'}} alt='fruit'/>)\r\n  const strawberryIMG = (<img  src={strawberry} style={{display:fruitIMG ==='STRAWBERRY' ? 'block' : 'none'}} alt='fruit'/>)\r\n  const watermelonIMG = (<img src={watermelon} style={{display:fruitIMG ==='WATERMELON' ? 'block' : 'none' }} alt='fruit'/>)\r\n  const cantaloupeIMG = (<img src={cantaloupe} style={{display:fruitIMG ==='CANTALOUPE' ? 'block' : 'none' }} alt='fruit'/>)\r\n  const pauseButton = (<img className='clock__mission__switch' src={icon_pause} onClick={()=>{onPause()}} style={{display:props.isRun ? 'block' : 'none'}} alt='icon_pause'/>)\r\n  const playButton = (<img className='clock__mission__switch' src={icon_play} onClick={()=>{onPlay()}} style={{display:props.isRun ? 'none' : 'block'}} alt='icon_pause'/>)\r\n\r\n  useEffect(()=>{ //從IndexedDB獲取數據\r\n    db.mission.toArray().then((res)=>{\r\n      setNowMission({\r\n        id:res[0] ? res[0].id : 0,\r\n        mission:res[0] ? res[0].mission : '任務',\r\n        time:res[0] ? res[0].time : 0,\r\n        smoke:res[0] ? res[0].smoke : false,\r\n      })\r\n    })\r\n  },[])\r\n\r\n  useEffect(()=>{ //從ListItem獲取數據\r\n    setNowMission(data)\r\n  },[data])\r\n\r\n  useEffect(() => { //計時器\r\n    let interval\r\n    if (props.isRun) {\r\n        interval = setInterval(() => {\r\n          setTime(time => time-1)\r\n        }, 1000)\r\n    } else {\r\n      clearInterval(interval)\r\n    }\r\n    return () => clearInterval(interval)\r\n  }, [props.isRun])\r\n\r\n  useEffect(() => { //時鐘邏輯\r\n    if(!smoke && props.isRun && time === 0){\r\n      setTime(2)\r\n      setSmoke(true)\r\n      audio_start.play()\r\n      return\r\n    }\r\n    if(smoke && time === 0){\r\n      props.setIsRun(!props.isRun)\r\n      setSmoke(false)\r\n      audio_end.play()\r\n      db.mission.delete(nowMission.id)\r\n      db.plan.update(nowMission.id,{state:'done'})\r\n      setNowMission({mission:'完成',time:0})\r\n\r\n    }\r\n  }, [time])// eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n  const onPause = () => {\r\n    props.setIsRun(!props.isRun)\r\n    setNowMission({...nowMission,time:time,smoke: smoke ? true : false})\r\n    db.mission.put({id:nowMission.id,mission:nowMission.mission,time:time,smoke:smoke ? true : false})\r\n    setSmoke(false)\r\n  }\r\n  \r\n  const onPlay = () => {\r\n    if(nowMission.id === 0){\r\n      alert('請創建新的任務。')\r\n      return\r\n    }\r\n    if(nowMission.mission === '完成'){\r\n      alert('任務已完成!請選擇新的任務。')\r\n      return\r\n    }\r\n    if(nowMission.smoke === true){\r\n      setSmoke(true)\r\n    }\r\n    props.setIsRun(!props.isRun)\r\n    setTime(nowMission.time)\r\n  }\r\n\r\n  return(\r\n    <div className='clock'>\r\n      {/* <div className='test'>000</div> */}\r\n      <div className='clock__mission'>{smoke ? '休息' : nowMission.mission}{smoke ? null : nowMission.smoke && '(休息)'}{pauseButton}{playButton}</div>\r\n      <div className='clock__fruitIMG'>\r\n        {tomatoIMG}\r\n        {strawberryIMG}\r\n\r\n        {watermelonIMG} \r\n        {cantaloupeIMG}\r\n        <p className='clock__fruitIMG__time'>{props.isRun ? getTime(time) : getTime(nowMission.time)}</p>\r\n      </div>\r\n \r\n\r\n    </div>\r\n  )\r\n}\r\nexport default Clock\r\n\r\n","export default __webpack_public_path__ + \"static/media/shopping-list.aadce41e.svg\";","export default __webpack_public_path__ + \"static/media/plus.b03e3495.svg\";","import React,{useEffect}  from 'react'\r\nimport {useDispatch } from 'react-redux'\r\nimport iconList from '../../assets/img/icon/shopping-list.svg'\r\nimport plus from '../../assets/img/icon/plus.svg'\r\nimport {db} from '../../common/Model'\r\nimport { useLiveQuery } from \"dexie-react-hooks\";\r\nimport {NOWMISSION} from '../../redux/action-types.js'\r\nimport './listItem.less'\r\n\r\nfunction getTime(){\r\n  const now = new Date()　\r\n  const date = now.getDate();\r\n  const month = now.getMonth()+1;\r\n  const year = now.getFullYear();\r\n  return {year,month,date}\r\n}\r\nconst ListItem = props =>{\r\n  const data = useLiveQuery(() => db.mission.toArray());\r\n  const plan = useLiveQuery(() => db.plan.where({\r\n    year:getTime().year,\r\n    month:getTime().month,\r\n    date: getTime().date,\r\n    })\r\n    .and(res=> res.state === 'wait')\r\n    .toArray()\r\n  ,[])\r\n\r\n  const dispatch = useDispatch();\r\n  const setNowMission = (item) => {\r\n    if(props.isRun) return\r\n    dispatch({type:NOWMISSION,data:item})\r\n  }\r\n\r\n  useEffect(()=>{\r\n    if(plan && plan.length > 0){\r\n      plan.forEach((item,index)=>{\r\n        db.mission.add({ id:item.id,mission:item.mission, time:item.time*2, smoke:false });\r\n        db.plan.update(item.id,{state:'start'})\r\n        console.log('a')\r\n      })\r\n    } \r\n  },[plan])\r\n  \r\n\r\n  return(\r\n    <div className='list'>\r\n      <div className=\"list__iconList\">\r\n        <img src={iconList} className=\"list__iconList__IMG\" alt=\"logo\" />\r\n      </div>\r\n      <ul className='list__ul'>\r\n        { \r\n          data \r\n            ? data.map((item)=>{\r\n                return(\r\n                  <li key={item.id} className='list__ul__li' onClick={()=>{setNowMission(item)}}>\r\n                    {item.mission}\r\n                  </li>\r\n                )\r\n              })\r\n            : null\r\n        }\r\n      </ul>\r\n      <div className=\"list__iconAdd\" onClick={()=>{props.setListType(true)}}>\r\n          <img src={plus} className=\"list__iconAdd__IMG\" alt=\"logo\" />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction listEqual(prevProps, nextProps) {\r\n  return prevProps.isRun === nextProps.isRun\r\n}\r\nexport default React.memo(ListItem, listEqual);","import React,{useState} from 'react'\r\nimport iconListAdd from '../../assets/img/icon/plus.svg'\r\nimport shoppingList from '../../assets/img/icon/shopping-list.svg'\r\nimport {db} from '../../common/Model'\r\nimport './listAdd.less'\r\n\r\nconst reg = /^\\d*?$/;\r\n\r\nconst ListAdd = props =>{\r\n  const now = new Date()\r\n  const [data,setData] = useState({mission:'',time:''})\r\n  \r\n  const getData = (e) => {\r\n    if(e.target.name === 'time' && !reg.test(e.target.value)){\r\n      alert('請輸入數字')\r\n      return \r\n    }\r\n    setData({...data,[e.target.name]:e.target.value})\r\n  }\r\n\r\n  const onSubmit = (e) =>{\r\n    e.preventDefault();\r\n    if(!data.mission || !data.time){\r\n      alert('任務名稱或時間不能為空!')\r\n      return\r\n    }\r\n    if(data.time > 9999){\r\n      alert('時間不能超過9999分鐘!')\r\n      return\r\n    }\r\n    db.mission.add({ id:now.getTime(),mission:data.mission, time:data.time*2, smoke:false });\r\n    setData({mission:'',time:''})\r\n    alert('添加任務成功!')\r\n  }\r\n\r\n  return(\r\n    <div className='ListAdd'>\r\n      <div className=\"ListAdd__iconAdd\">\r\n        <img src={iconListAdd} className=\"ListAdd__iconAdd__IMG\" alt=\"logo\" />\r\n      </div>\r\n      <form className='ListAdd__form' onSubmit={onSubmit} >\r\n        <label>\r\n          任務：\r\n          <br/>\r\n          <input\r\n            name=\"mission\"\r\n            type=\"text\"\r\n            value={data.mission}\r\n            onChange={getData} \r\n            autoComplete='off'\r\n            />\r\n        </label>\r\n        <br />\r\n        <label>\r\n          時間(分)：\r\n          <input\r\n            name=\"time\"\r\n            type=\"text\"\r\n            value={data.time}\r\n            onChange={getData.bind(this)}\r\n            autoComplete='off'\r\n            />\r\n        </label>\r\n        <button>確定</button>\r\n      </form>\r\n      <div className=\"ListAdd__iconList\" onClick={()=>{props.setListType(false)}}>\r\n          <img src={shoppingList} className=\"ListAdd__iconList__IMG\" alt=\"logo\" />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\n// function listEqual(prevProps, nextProps) {\r\n//   return prevProps.mission.length === nextProps.mission.length\r\n// }\r\n// export default React.memo(ListAdd, listEqual);\r\nexport default ListAdd\r\n\r\n","import React,{useState} from 'react'\r\nimport ListItem from '../listItem/listItem'\r\nimport ListAdd from '../listAdd/listAdd'\r\nimport './list.less'\r\n\r\nexport default function List(props){\r\n  const {isRun} = props\r\n  const [listType,setListType] = useState(false)\r\n\r\n  // const list = listType \r\n  //   ? <ListAdd mission={mission} setMission={setMission}  setListType={setListType}/>\r\n  //   : <ListItem isRun={isRun} mission={mission} changeMission={changeMission} setListType={setListType}/> \r\n\r\n  return(\r\n    <div className='list'>\r\n      {/* {list} */}\r\n      <div style={{display:listType?'none':'block'}}><ListItem isRun={isRun} setListType={setListType}/></div> \r\n      <div style={{display:listType?'block':'none'}}><ListAdd setListType={setListType}/></div>\r\n    </div>\r\n  )\r\n}","import React,{useState } from 'react'\r\nimport FuitButton from '../../containers/fruitButton/fruitButton'\r\nimport Clock from '../../containers/clock/clock'\r\nimport List from '../../containers/list/list'\r\nimport './Main.less'\r\n\r\nconst Main = (props) => {\r\n  const [isRun,setIsRun] = useState(false)\r\n\r\n  return(\r\n    <div className='Main' style={{opacity:props.homeType ? 1 : 0,display:props.homeType ?'flex':'none'}}>\r\n      <div className='Main__FuitButton'><FuitButton/></div>\r\n      <div className='Main__Clock'><Clock isRun={isRun} setIsRun={setIsRun} /></div>\r\n      <div className='Main__List'><List isRun={isRun} /></div>\r\n    </div>\r\n  )\r\n}\r\nexport default Main\r\n","import React,{useState} from 'react'\r\nimport {db} from '../../common/Model'\r\nimport { useLiveQuery } from 'dexie-react-hooks';\r\n\r\nimport './CalendarForm.less'\r\n\r\nconst reg = /^\\d*?$/;\r\n\r\nconst CalendarForm = (props) => {\r\n  const [mission,setMission] = useState('')\r\n  const [time,setTime] = useState('')\r\n\r\n  const saveMission = (e) => {\r\n    setMission(e.target.value)\r\n  }\r\n  const saveTime = (e) => {\r\n    if(!reg.test(e.target.value)){\r\n      alert('請輸入數字')\r\n      return \r\n    }\r\n    setTime(e.target.value)\r\n  }\r\n  const Submit = () => {\r\n    if(!mission || !time){\r\n      alert('任務名稱或時間不能為空!')\r\n      return\r\n    }\r\n    if(time > 9999){\r\n      alert('時間不能超過9999分鐘!')\r\n      return\r\n    }\r\n    const now = new Date()\r\n    db.plan.add({ \r\n      id:now.getTime(),\r\n      mission:mission, \r\n      time:time, \r\n      smoke:false,\r\n      year:props.timeInfo.year,\r\n      month:props.timeInfo.month,\r\n      date:props.timeInfo.date,\r\n      state:'wait',\r\n    });\r\n    alert('提交成功')\r\n    setMission('')\r\n    setTime('')\r\n    props.closeForm()\r\n  }\r\n\r\n  const deletePlan = (id) => {\r\n    db.plan.delete(id)\r\n  }\r\n\r\n  const planLi = useLiveQuery(\r\n    ()=>db.plan.where({\r\n        year:props.timeInfo.year,\r\n        month:props.timeInfo.month,\r\n        date: props.timeInfo.date,\r\n      }).toArray()\r\n    ,[props.timeInfo]\r\n  )\r\n\r\n  const addPlan = () =>{\r\n    const {initYear,initMonth,today,year,month,date } = props.timeInfo\r\n    const now = new Date(initYear, initMonth-1, today);\r\n    const select = new Date(year, month-1, date);\r\n    const nowTime = now.getTime()\r\n    const selectTime = select.getTime()\r\n\r\n    if(nowTime <= selectTime){\r\n      return(\r\n        <div className='CalendarForm__inner__addPlan'>\r\n          <strong> 新增計劃：</strong>\r\n          <div>名稱  <input type=\"text\" name=\"mission\" autoComplete='off' onChange={saveMission.bind(this)} value={mission}/></div>\r\n          <div>時間  <input type=\"text\" name=\"time\" autoComplete='off' onChange={saveTime} value={time} placeholder='單位:分鐘'/></div>\r\n          <div>\r\n            <input type=\"button\" value=\"取消\" onClick={props.closeForm} />\r\n            <input type=\"button\" value=\"提交\" onClick={Submit}/>\r\n          </div>\r\n        </div>\r\n      )\r\n    }\r\n    return null\r\n  }\r\n\r\n  return(\r\n    <div className='CalendarForm'  > \r\n      <div className='CalendarForm__outside' onClick={props.closeForm}></div>\r\n      <form className='CalendarForm__inner'>\r\n        <div className='CalendarForm__inner__date'>{props.timeInfo.date}</div>\r\n        <div className='CalendarForm__inner__plan'>\r\n          <strong> 計劃：</strong>\r\n          <ul>\r\n            {planLi \r\n              ? planLi.map((e)=> <li key={e.id}>{e.mission}/{e.time}分鐘<div onClick={()=>{deletePlan(e.id)}}>刪除</div></li>) \r\n              : ''\r\n            }\r\n          </ul>\r\n        </div>\r\n        {addPlan()}\r\n      </form>\r\n    </div>  \r\n  )\r\n}\r\nexport default CalendarForm","import React,{useState,useEffect} from 'react'\r\nimport {db} from '../../common/Model'\r\nimport './CalendarLiContent.less'\r\n\r\nconst CalendarLiContent = (props) => {\r\n  const [mission,setMission] = useState('')\r\n  useEffect(()=>{\r\n    db.plan.where({\r\n      year:props.dateInfo.year,\r\n      month:props.dateInfo.month,\r\n      date:props.dateInfo.date,\r\n    }).toArray().then(res=> setMission(res) )\r\n  },[props.dateInfo])\r\n\r\n  const state = (e) =>{\r\n    switch (e.state) {\r\n      case 'wait':\r\n        return <strong style={{color:'purple'}}>(等待)</strong>  \r\n      case 'start':\r\n        return <strong style={{color:'blue'}}>(可執行)</strong>  \r\n      case 'done':\r\n        return <strong style={{color:'green'}}>(完成)</strong>  \r\n      case 'fail':\r\n        return <strong style={{color:'red'}}>(逾期)</strong>  \r\n      default:\r\n        return null\r\n    }\r\n  }\r\n\r\n  return(\r\n    <>\r\n      {\r\n        mission  \r\n         ? mission.map((item,index)=>\r\n          <li className='CalendarLiContent' key={index}>\r\n            {item.mission}{state(item)}\r\n          </li>) \r\n         : null\r\n      }\r\n    </>\r\n  )\r\n}\r\nexport default CalendarLiContent","import React,{Component} from 'react'\r\nimport CalendarForm from '../../components/CalendarForm/CalendarForm'\r\nimport CalendarLiContent from '../../components/CalendarLiContent/CalendarLiContent'\r\nimport {db} from '../../common/Model'\r\n\r\nimport  './Calendar.less'\r\n\r\nfunction changeLength(e){\r\n  let res = e.toString()\r\n  if(res.length === 1 )res = `0${res}`\r\n  return res\r\n}\r\n\r\nclass Calendar extends Component{\r\n  state = {\r\n    initYear:'',\r\n    initMonth:'',\r\n    today:'',\r\n    year:'',\r\n    month:'',\r\n    date:'',\r\n    allDate:'',\r\n    showForm: false,\r\n  }\r\n  componentDidMount(){\r\n    const now = new Date()　\r\n    const date = now.getDate()\r\n    const month = now.getMonth()+1\r\n    const year = now.getFullYear()\r\n    const whichMonth = new Date(year,month,0)　\r\n    const totalDate =  whichMonth.getDate()\r\n\r\n    this.setState({\r\n      initYear:year,\r\n      initMonth:month,\r\n      today:date,\r\n      year:year,\r\n      month:month,\r\n      date:date,\r\n      totalDate:totalDate,  \r\n    })\r\n\r\n\r\n    db.plan  //檢查計畫是否逾期\r\n    .where('state')\r\n    .notEqual('done')\r\n    .and(res=>{\r\n      let a = `${res.year}${changeLength(res.month)}${changeLength(res.date)}`\r\n      let b = `${year}${changeLength(month)}${changeLength(date)}`\r\n       return  a < b\r\n    })\r\n    .modify({state:'fail'})\r\n  }\r\n\r\n  changeYear = (e) => {\r\n    if(e.target.value === '請選擇' ) return \r\n    const value = Number(e.target.value)\r\n    const whichMonth = new Date(value,this.state.month,0)　\r\n    const totalDate =  whichMonth.getDate()\r\n    this.setState({year:value,totalDate:totalDate})\r\n  }\r\n  changeMonth = (e) => {\r\n    if(e.target.value === '請選擇' ) return \r\n    const value = Number(e.target.value)\r\n    const whichMonth = new Date(this.state.year,value,0)　\r\n    const totalDate =  whichMonth.getDate()\r\n    this.setState({month:value,totalDate:totalDate})\r\n  }\r\n  closeForm = () => {\r\n    this.setState({showForm:false})\r\n  }\r\n  openForm = (e) => {\r\n    this.setState({showForm:true,date:e})\r\n  }\r\n\r\n  render(){\r\n    let {homeType} = this.props \r\n    const dateLi = new Array(this.state.totalDate).fill(\"\").map((x, index) => \r\n      <li className='Calendar__ul__li' key={index + 1} onClick={()=>{this.openForm(index + 1)}}>\r\n        <div>{index + 1}</div>\r\n        <ul className='Calendar__ul__li__ul'>\r\n          <CalendarLiContent dateInfo={{year:this.state.year,month:this.state.month,date:index + 1}}/>\r\n        </ul>\r\n      </li>\r\n    )\r\n    const monthOption = new Array(12).fill(\"\").map((x, index) => <option key={index + 1}>{index + 1}</option>)\r\n\r\n    return(\r\n      <div className='Calendar' style={{display:!homeType ? 'flex':'none'}} >\r\n        <div className='Calendar__Top'>\r\n          <div className='Calendar__Top__Year'>\r\n            <div>{this.state.year}</div>\r\n            <div>Year</div>\r\n            <select  onChange={this.changeYear}>\r\n              <option value=\"請選擇\">請選擇</option>\r\n              <option value={this.state.initYear}>{this.state.initYear}</option>\r\n              <option value={this.state.initYear+1}>{this.state.initYear+1}</option>\r\n              <option value={this.state.initYear+2}>{this.state.initYear+2}</option>\r\n              <option value={this.state.initYear+3}>{this.state.initYear+3}</option>\r\n              <option value={this.state.initYear+4}>{this.state.initYear+4}</option>\r\n            </select>\r\n          </div>\r\n          <div className='Calendar__Top__Month'>\r\n            <div>{this.state.month}</div>\r\n            <div>Month</div>\r\n            <select defaultValue={this.state.month} onChange={this.changeMonth}>\r\n              <option>請選擇</option>\r\n              {monthOption}\r\n            </select>\r\n          </div>\r\n        </div>\r\n        <ul className='Calendar__ul'>\r\n          {dateLi}\r\n        </ul>\r\n        <div className='CalendarForm' style={{display:this.state.showForm?'block':'none'}} >\r\n          <CalendarForm \r\n            closeForm={this.closeForm} \r\n            timeInfo={{\r\n              year:this.state.year,\r\n              month:this.state.month,\r\n              date:this.state.date,\r\n              initYear:this.state.initYear,\r\n              initMonth:this.state.initMonth,\r\n              today:this.state.today,\r\n            }}\r\n          />\r\n        </div>  \r\n      </div>\r\n    )\r\n  }\r\n}\r\nexport default Calendar\r\n\r\n","import React,{useState} from 'react'\r\nimport TopNav from '../TopNav/TopNav'\r\nimport Main from '../Main/Main'\r\nimport Calendar from '../../containers/Calendar/Calendar'\r\nimport './Home.less'\r\n\r\nexport default function Home(){\r\n  const [homeType,setHomeType] = useState(true)\r\n  \r\n  return(\r\n    <div className='Home'>\r\n      <TopNav homeType={homeType} setHomeType={setHomeType}/>\r\n      <Main homeType={homeType}/>\r\n      <Calendar homeType={homeType}/>\r\n    </div>\r\n  )\r\n}","import React from 'react'\r\nimport Home from './components/Home/Home'\r\nimport './app.less'\r\n\r\nconst App =() => {\r\n  return(\r\n    <div className='app'>\r\n      <Home/>\r\n    </div>\r\n  )\r\n}\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {Provider} from 'react-redux'\nimport store from './redux/store'\nimport App from './App'\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,document.getElementById('root')\n)\n"],"sourceRoot":""}