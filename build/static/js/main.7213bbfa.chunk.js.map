{"version":3,"sources":["redux/action-types.js","redux/reducers/fruit.js","redux/reducers/mission.js","redux/reducers/index.js","redux/reducers/test.js","redux/store.js","containers/fruitButton/fruitButton.js","assets/img/icon/play-button.svg","assets/img/icon/pause-button.svg","assets/music/blackout_harp1.mp3","assets/music/blackout_harp2.mp3","assets/img/fruit/tomato.png","assets/img/fruit/strawberry.png","assets/img/fruit/watermelon.png","assets/img/fruit/cantaloupe.png","common/populate.js","common/Model.js","containers/clock/clock.js","assets/img/icon/shopping-list.svg","assets/img/icon/plus.svg","containers/listItem/listItem.js","containers/listAdd/listAdd.js","containers/list/list.js","page/home.js","App.js","index.js"],"names":["TEST","TOMATO","WATERMELON","STRAWBERRY","CANTALOUPE","NOWMISSION","initState","id","missoin","time","smoke","combineReducers","test","preState","action","type","data","fruit","mission","createStore","reducer","Decoration","dispatch","useDispatch","className","onClick","React","memo","populate","db","bulkAdd","version","stores","Dexie","on","getTime","value","sec","min","parseInt","sec0","audio_start","Audio","start","audio_end","end","Clock","props","useSelector","state","fruitIMG","useState","Number","setTime","setSmoke","nowMission","setNowMission","tomatoIMG","src","tomato","style","display","alt","strawberryIMG","strawberry","watermelonIMG","watermelon","cantaloupeIMG","cantaloupe","pauseButton","icon_pause","onPause","isRun","playButton","icon_play","onPlay","useEffect","toArray","then","res","interval","setInterval","clearInterval","play","setIsRun","delete","put","alert","ListItem","useLiveQuery","iconList","map","item","setListType","plus","listEqual","prevProps","nextProps","reg","ListAdd","now","Date","setData","getData","e","target","name","iconListAdd","onSubmit","preventDefault","add","onChange","bind","shoppingList","List","listType","Home","App","ReactDOM","render","store","document","getElementById"],"mappings":"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","file":"static/js/main.7213bbfa.chunk.js","sourcesContent":["//命名\r\nexport const TEST = 'test'\r\n\r\n//水果造型\r\nexport const TOMATO = 'tomato'\r\nexport const WATERMELON = 'watermelon'\r\nexport const STRAWBERRY = 'strawberry'\r\nexport const CANTALOUPE = 'cantaloupe'\r\n\r\n//選中任務\r\nexport const NOWMISSION = 'nowMission'\r\n","import {TOMATO} from '../action-types.js'\r\nimport {WATERMELON} from '../action-types.js'\r\nimport {STRAWBERRY} from '../action-types.js'\r\nimport {CANTALOUPE} from '../action-types.js'\r\n\r\nlet initState = 'TOMATO'\r\n\r\nexport default function a(preState=initState,action){\r\n  const {type,data} = action\r\n\r\n  switch(type){\r\n    case TOMATO:\r\n      return 'TOMATO'\r\n    case STRAWBERRY:\r\n      return 'STRAWBERRY'\r\n    case WATERMELON:\r\n      return 'WATERMELON'\r\n    case CANTALOUPE:\r\n      return 'CANTALOUPE'\r\n    default:\r\n      return preState\r\n  }\r\n}","import {NOWMISSION} from '../action-types.js'\r\n\r\n\r\nlet initState = {id:'',missoin:'',time:'',smoke:''}\r\n\r\nexport default function a(preState=initState,action){\r\n  const {type,data} = action\r\n  switch(type){\r\n    case NOWMISSION:\r\n      return data\r\n    default:\r\n      return preState\r\n  }\r\n}","import {combineReducers} from 'redux'\r\nimport testReducer from './test.js'\r\nimport fruitReducer from './fruit.js'\r\nimport missionReducer from './mission.js'\r\n\r\n\r\nexport default combineReducers({\r\n  test:testReducer,\r\n  fruit:fruitReducer,\r\n  mission:missionReducer,\r\n})","import {TEST} from '../action-types.js'\r\n\r\nlet initState = 0\r\n\r\nexport default function a(preState=initState,action){\r\n  const {type,data} = action\r\n  let newState\r\n\r\n  switch(type){\r\n    case TEST:\r\n      preState++\r\n      return preState\r\n    default:\r\n      return preState\r\n  }\r\n}","import {createStore} from 'redux';\r\nimport reducer from './reducers';\r\n\r\nexport default createStore(reducer);\r\n","import React from 'react'\r\nimport {useDispatch } from 'react-redux'\r\nimport {TOMATO} from '../../redux/action-types.js'\r\nimport {WATERMELON} from '../../redux/action-types.js'\r\nimport {STRAWBERRY} from '../../redux/action-types.js'\r\nimport {CANTALOUPE} from '../../redux/action-types.js'\r\nimport './fruitButton.less'\r\n\r\nconst Decoration = () =>{\r\n  const dispatch = useDispatch();\r\n  const tomato =()=>{dispatch({type:TOMATO})}\r\n  const strawberry =()=>{dispatch({type:STRAWBERRY})}\r\n  const cantaloupe =()=>{dispatch({type:CANTALOUPE})}\r\n  const watermelon =()=>{dispatch({type:WATERMELON})}\r\n\r\n  return(\r\n    <div className='fruitButton'>\r\n        <button className='fruitButton__tomatoButton' onClick={()=>{tomato()}}><div className='fruitButton__tomatoIMG'/></button>\r\n        <button className='fruitButton__strawberryButton' onClick={()=>{strawberry()}}><div className='fruitButton__strawberryIMG'/></button>\r\n        <button className='fruitButton__watermelonButton' onClick={()=>{watermelon()}}><div className='fruitButton__watermelonIMG'/></button>\r\n        <button className='fruitButton__cantaloupeButton' onClick={()=>{cantaloupe()}}><div className='fruitButton__cantaloupeIMG'/></button>\r\n    </div>\r\n  )\r\n}\r\nexport default React.memo(Decoration);\r\n","export default __webpack_public_path__ + \"static/media/play-button.bb43f381.svg\";","export default __webpack_public_path__ + \"static/media/pause-button.a5abb526.svg\";","export default __webpack_public_path__ + \"static/media/blackout_harp1.c533454e.mp3\";","export default __webpack_public_path__ + \"static/media/blackout_harp2.b001a8e8.mp3\";","export default __webpack_public_path__ + \"static/media/tomato.7f1b1aa7.png\";","export default __webpack_public_path__ + \"static/media/strawberry.2289a785.png\";","export default __webpack_public_path__ + \"static/media/watermelon.1bee71d4.png\";","export default __webpack_public_path__ + \"static/media/cantaloupe.4727635b.png\";","import {db} from \"./Model\";\r\n\r\nexport function populate() {\r\n  db.mission.bulkAdd([\r\n    {id:1,mission:'打疫苗',time:3,smoke:false},\r\n    {id:2,mission:'吃飯',time:6,smoke:false},\r\n    {id:3,mission:'睡覺',time:3,smoke:false},\r\n    {id:4,mission:'打代碼',time:3,smoke:false}\r\n  ]);\r\n}\r\n","import Dexie from 'dexie'\r\nimport { populate } from './populate';\r\n\r\nexport class FruitClockDB extends Dexie {\r\n  constructor() {\r\n    super('FruitClockDB');\r\n    this.version(1*0.1).stores({\r\n      mission: 'id,mission,time,smoke'\r\n    });\r\n\r\n    // 版本升級\r\n    // this.version(2*0.1).stores({\r\n    //   mission: 'id,mission,time,smoke,test',\r\n    //   date: 'id,mission,time,smoke,date'\r\n    //\r\n    // }).upgrade(trans => {\r\n    // 只有在低於2版本的資料庫中會執行以下操作\r\n    //   return trans.mission.toCollection().modify(a => {\r\n    //     a.test = a.time*10;    \r\n    //   })\r\n    // })\r\n  }\r\n}\r\n\r\nexport const db = new FruitClockDB();\r\n\r\ndb.on('populate', populate);\r\n\r\nexport function resetDatabase() {\r\n  return db.transaction('rw', db.mission, async () => {\r\n    await Promise.all(db.tables.map(table => table.clear()));\r\n    await populate();\r\n  });\r\n}\r\n\r\n\r\n\r\n","import React,{useState,useEffect} from 'react'\r\nimport {useSelector } from 'react-redux'\r\nimport icon_play from '../../assets/img/icon/play-button.svg'\r\nimport icon_pause from '../../assets/img/icon/pause-button.svg'\r\nimport start from '../../assets/music/blackout_harp1.mp3'\r\nimport end from '../../assets/music/blackout_harp2.mp3'\r\nimport tomato from \"../../assets/img/fruit/tomato.png\"\r\nimport strawberry from \"../../assets/img/fruit/strawberry.png\"\r\nimport watermelon from \"../../assets/img/fruit/watermelon.png\"\r\nimport cantaloupe from \"../../assets/img/fruit/cantaloupe.png\"\r\nimport {db} from '../../common/Model'\r\nimport './clock.less'\r\n\r\n\r\nfunction getTime(value){\r\n  let sec = value % 60\r\n  let min = parseInt(value/60)\r\n  let sec0 = sec < 10 ? 0 : ''\r\n  let min0 = min < 10 ? 0 : ''\r\n  let time = [`${min0}${min}:${sec0}${sec}`]\r\n  return time\r\n}\r\nconst audio_start = new Audio(start)\r\nconst audio_end = new Audio(end)\r\n\r\nconst Clock = (props) =>{\r\n  const data = useSelector(state => state.mission)\r\n  const fruitIMG = useSelector(state => state.fruit)\r\n  const [time,setTime] = useState(Number)\r\n  const [smoke,setSmoke] = useState(false)\r\n  const [nowMission,setNowMission] = useState({id:'',mission: '',time:'',smoke:'',})\r\n  const tomatoIMG = (<img className='clock__fruitIMG' src={tomato} style={{display:fruitIMG ==='TOMATO' ? 'block' : 'none'}} alt='fruit'/>)\r\n  const strawberryIMG = (<img className='clock__fruitIMG' src={strawberry} style={{display:fruitIMG ==='STRAWBERRY' ? 'block' : 'none'}} alt='fruit'/>)\r\n  const watermelonIMG = (<img className='clock__fruitIMG' src={watermelon} style={{display:fruitIMG ==='WATERMELON' ? 'block' : 'none' }} alt='fruit'/>)\r\n  const cantaloupeIMG = (<img className='clock__fruitIMG' src={cantaloupe} style={{display:fruitIMG ==='CANTALOUPE' ? 'block' : 'none' }} alt='fruit'/>)\r\n  const pauseButton = (<img className='clock__switch' src={icon_pause} onClick={()=>{onPause()}} style={{display:props.isRun ? 'block' : 'none'}} alt='icon_pause'/>)\r\n  const playButton = (<img className='clock__switch' src={icon_play} onClick={()=>{onPlay()}} style={{display:props.isRun ? 'none' : 'block'}} alt='icon_pause'/>)\r\n\r\n  useEffect(()=>{ //從IndexedDB獲取數據\r\n    db.mission.toArray().then((res)=>{\r\n      setNowMission({\r\n        id:res[0] ? res[0].id : 0,\r\n        mission:res[0] ? res[0].mission : '任務',\r\n        time:res[0] ? res[0].time : 0,\r\n        smoke:res[0] ? res[0].smoke : false,\r\n      })\r\n    })\r\n  },[])\r\n\r\n  useEffect(()=>{ //從ListItem獲取數據\r\n    setNowMission(data)\r\n  },[data])\r\n\r\n  useEffect(() => { //計時器\r\n    let interval\r\n    if (props.isRun) {\r\n        interval = setInterval(() => {\r\n          setTime(time => time-1)\r\n        }, 1000)\r\n    } else {\r\n      clearInterval(interval)\r\n    }\r\n    return () => clearInterval(interval)\r\n  }, [props.isRun])\r\n\r\n  useEffect(() => { //時鐘邏輯\r\n    if(!smoke && props.isRun && time === 0){\r\n      setTime(3)\r\n      setSmoke(true)\r\n      audio_start.play()\r\n      return\r\n    }\r\n    if(smoke && time === 0){\r\n      props.setIsRun(!props.isRun)\r\n      setSmoke(false)\r\n      audio_end.play()\r\n      db.mission.delete(nowMission.id)\r\n      setNowMission({mission:'完成',time:0})\r\n    }\r\n  }, [time])// eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n  const onPause = () => {\r\n    props.setIsRun(!props.isRun)\r\n    setNowMission({...nowMission,time:time,smoke: smoke ? true : false})\r\n    db.mission.put({id:nowMission.id,mission:nowMission.mission,time:time,smoke:smoke ? true : false})\r\n    setSmoke(false)\r\n  }\r\n  \r\n  const onPlay = () => {\r\n    if(nowMission.id === 0){\r\n      alert('請創建新的任務。')\r\n      return\r\n    }\r\n    if(nowMission.mission === '完成'){\r\n      alert('任務已完成!請選擇新的任務。')\r\n      return\r\n    }\r\n    if(nowMission.smoke === true){\r\n      setSmoke(true)\r\n    }\r\n    props.setIsRun(!props.isRun)\r\n    setTime(nowMission.time)\r\n  }\r\n\r\n  return(\r\n    <div className='clock'>\r\n      {/* <div className='test'>000</div> */}\r\n      <div className='clock__mission'>{smoke ? '休息' : nowMission.mission}{smoke ? null : nowMission.smoke && '(休息)'}{pauseButton}{playButton}</div>\r\n      <div>\r\n        {tomatoIMG}\r\n        {strawberryIMG}\r\n        {watermelonIMG} \r\n        {cantaloupeIMG}\r\n      </div>\r\n      <div>\r\n       <p className='clock__time'>{props.isRun ? getTime(time) : getTime(nowMission.time)}</p>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\nexport default Clock\r\n\r\n","export default __webpack_public_path__ + \"static/media/shopping-list.aadce41e.svg\";","export default __webpack_public_path__ + \"static/media/plus.b03e3495.svg\";","import React  from 'react'\r\nimport {useDispatch } from 'react-redux'\r\nimport iconList from '../../assets/img/icon/shopping-list.svg'\r\nimport plus from '../../assets/img/icon/plus.svg'\r\nimport {db} from '../../common/Model'\r\nimport { useLiveQuery } from \"dexie-react-hooks\";\r\nimport {NOWMISSION} from '../../redux/action-types.js'\r\nimport './listItem.less'\r\n\r\nconst ListItem = props =>{\r\n  const data = useLiveQuery(() => db.mission.toArray());\r\n  const dispatch = useDispatch();\r\n  const setNowMission =(item)=>{\r\n    if(props.isRun) return\r\n    dispatch({type:NOWMISSION,data:item})\r\n  }\r\n\r\n  return(\r\n    <div className='list'>\r\n      <div className=\"list__iconList\">\r\n        <img src={iconList} className=\"list__iconList__IMG\" alt=\"logo\" />\r\n      </div>\r\n      <ul className='list__ul'>\r\n       { \r\n          data \r\n            ? data.map((item)=>{\r\n                return(\r\n                  <li key={item.id} className='list__ul__li' onClick={()=>{setNowMission(item)}}>\r\n                    {item.mission}\r\n                  </li>\r\n                )\r\n              })\r\n            : null\r\n        }\r\n      </ul>\r\n      <div className=\"list__iconAdd\" onClick={()=>{props.setListType(true)}}>\r\n          <img src={plus} className=\"list__iconAdd__IMG\" alt=\"logo\" />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction listEqual(prevProps, nextProps) {\r\n  return prevProps.isRun === nextProps.isRun\r\n}\r\nexport default React.memo(ListItem, listEqual);","import React,{useState} from 'react'\r\nimport iconListAdd from '../../assets/img/icon/plus.svg'\r\nimport shoppingList from '../../assets/img/icon/shopping-list.svg'\r\nimport {db} from '../../common/Model'\r\nimport './listAdd.less'\r\n\r\nconst reg = /^\\d*?$/;\r\n\r\nconst ListAdd = props =>{\r\n  const now = new Date()\r\n  const [data,setData] = useState({mission:'',time:''})\r\n  \r\n  const getData = (e) => {\r\n    if(e.target.name === 'time' && !reg.test(e.target.value)){\r\n      alert('請輸入數字')\r\n      return \r\n    }\r\n    setData({...data,[e.target.name]:e.target.value})\r\n  }\r\n\r\n  const onSubmit = (e) =>{\r\n    e.preventDefault();\r\n    if(!data.mission || !data.time){\r\n      alert('任務名稱或時間不能為空!')\r\n      return\r\n    }\r\n    if(data.time > 9999){\r\n      alert('時間不能超過9999分鐘!')\r\n      return\r\n    }\r\n    db.mission.add({ id:now.getTime(),mission:data.mission, time:data.time*2, smoke:false });\r\n    setData({mission:'',time:''})\r\n    alert('添加任務成功!')\r\n  }\r\n\r\n  return(\r\n    <div className='ListAdd'>\r\n      <div className=\"ListAdd__iconAdd\">\r\n        <img src={iconListAdd} className=\"ListAdd__iconAdd__IMG\" alt=\"logo\" />\r\n      </div>\r\n      <form className='ListAdd__form' onSubmit={onSubmit} >\r\n        <label>\r\n          任務：\r\n          <br/>\r\n          <input\r\n            name=\"mission\"\r\n            type=\"text\"\r\n            value={data.mission}\r\n            onChange={getData} />\r\n        </label>\r\n        <br />\r\n        <label>\r\n          時間(分)：\r\n          <input\r\n            name=\"time\"\r\n            type=\"text\"\r\n            value={data.time}\r\n            onChange={getData.bind(this)} />\r\n        </label>\r\n        <button>確定</button>\r\n      </form>\r\n      <div className=\"ListAdd__iconList\" onClick={()=>{props.setListType(false)}}>\r\n          <img src={shoppingList} className=\"ListAdd__iconList__IMG\" alt=\"logo\" />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\n// function listEqual(prevProps, nextProps) {\r\n//   return prevProps.mission.length === nextProps.mission.length\r\n// }\r\n// export default React.memo(ListAdd, listEqual);\r\nexport default ListAdd\r\n\r\n","import React,{useState} from 'react'\r\nimport ListItem from '../listItem/listItem'\r\nimport ListAdd from '../listAdd/listAdd'\r\nimport './list.less'\r\n\r\nexport default function List(props){\r\n  const {isRun} = props\r\n  const [listType,setListType] = useState(false)\r\n\r\n  // const list = listType \r\n  //   ? <ListAdd mission={mission} setMission={setMission}  setListType={setListType}/>\r\n  //   : <ListItem isRun={isRun} mission={mission} changeMission={changeMission} setListType={setListType}/> \r\n\r\n  return(\r\n    <div className='list'>\r\n      {/* {list} */}\r\n      <div style={{display:listType?'none':'block'}}><ListItem isRun={isRun} setListType={setListType}/></div> \r\n      <div style={{display:listType?'block':'none'}}><ListAdd setListType={setListType}/></div>\r\n    </div>\r\n  )\r\n}","import React,{useState } from 'react'\r\nimport FuitButton from '../containers/fruitButton/fruitButton'\r\nimport Clock from '../containers/clock/clock'\r\nimport List from '../containers/list/list'\r\nimport './home.less'\r\nimport {resetDatabase} from '../common/Model'\r\n\r\nconst Home =() => {\r\n  const [isRun,setIsRun] = useState(false)\r\n\r\n  return(\r\n    <div className='home'>\r\n      <div className='home__FuitButton'><FuitButton/></div>\r\n      <div className='home__Clock'><Clock isRun={isRun} setIsRun={setIsRun} /></div>\r\n      <div className='home__List'><List isRun={isRun} /></div>\r\n    </div>\r\n  )\r\n}\r\nexport default Home\r\n","import React from 'react'\r\nimport Home from './page/home'\r\nimport './app.less'\r\n\r\nconst App =() => {\r\n  return(\r\n    <div className='app'>\r\n      <Home/>\r\n    </div>\r\n  )\r\n}\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {Provider} from 'react-redux'\nimport store from './redux/store'\nimport App from './App'\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,document.getElementById('root')\n)\n"],"sourceRoot":""}